
DELIMITER $$
CREATE PROCEDURE `SEARCH_PRODUCTSELL` (DATESELL DATETIME)
BEGIN
SELECT *
FROM PRODUCTSELL PS
WHERE PS.DATESELL = DATESELL ;
END$$
-- CALL SEARCH_PRODUCTSELL('2021-04-29');

DROP procedure IF EXISTS `ADD_PRODUCTSELL`;
DELIMITER $$
CREATE PROCEDURE `ADD_PRODUCTSELL` (DATESELL DATETIME, PRICE INT, QUANTILY INT, STATUS NVARCHAR(45), MANAGERMENTSTAFF_EMPID INT, PRODUCTID INT, INVENTORYNUMBER INT)
BEGIN
INSERT INTO PRODUCTSELL VALUES (DATESELL, PRICE, QUANTILY, STATUS, MANAGERMENTSTAFF_EMPID, PRODUCTID, INVENTORYNUMBER);
END$$
-- CALL ADD_PRODUCTSELL('2021-05-01', 500000, 1, 'Moi', 4, 1, 98);

DROP procedure IF EXISTS `SELECT_PRODUCT`;
DELIMITER $$
CREATE PROCEDURE `SELECT_PRODUCT` ()
BEGIN
SELECT * FROM PRODUCT;
END$$
-- CALL SELECT_PRODUCT;

DROP procedure IF EXISTS `UPDATE_PRODUCTSELL`;
DELIMITER $$
CREATE PROCEDURE `UPDATE_PRODUCTSELL` (DATE_SELL DATETIME, NEW_PRICE INT)
BEGIN
UPDATE PRODUCTSELL SET PRICE = NEW_PRICE WHERE DATESELL = DATE_SELL;
END$$
-- CALL UPDATE_PRODUCTSELL('2021-04-29', 600000);

DROP procedure IF EXISTS `DELETE_PRODUCTSELL`;
DELIMITER $$
CREATE PROCEDURE `DELETE_PRODUCTSELL` (DATE_SELL DATETIME, PRODUCT_ID INT )
BEGIN
DELETE FROM PRODUCTCART WHERE PRODUCTID = PRODUCT_ID AND DATE_SELL = DATESELL; 
DELETE FROM PRODUCTSELL WHERE PRODUCTID = PRODUCT_ID AND DATETIME = DATE_SELL;
END$$
-- CALL DELETE_PRODUCTSELL('2021-04-29', 1);
