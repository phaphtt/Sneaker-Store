DELIMITER $$
CREATE PROCEDURE `SEARCH_BILL` (BILL_ID INT)
BEGIN
SELECT * 
FROM BILL B
WHERE B.BILLID = BILL_ID;
END$$
-- CALL SEARCH_BILL(1);

DROP procedure IF EXISTS `ADD_BILL`;
DELIMITER $$
CREATE PROCEDURE `ADD_BILL` (BILLID INT, CREATEAT DATETIME, STATE NVARCHAR(45), TOTAL INT, SELLER_EMPID INT)
BEGIN
INSERT INTO BILL VALUES (BILLID, CREATEAT, STATE, TOTAL, SELLER_EMPID);
END$$
-- CALL ADD_BILL(3, '2021-1-1', 'VN', 800000, 10)

DROP procedure IF EXISTS `SELECT_BILL`;
DELIMITER $$
CREATE PROCEDURE `SELECT_BILL` ()
BEGIN
SELECT * FROM BILL;
END$$
-- CALL SELECT_BILL;

DROP procedure IF EXISTS `UPDATE_BILL`;
DELIMITER $$
CREATE PROCEDURE `UPDATE_BILL` (BILL_ID INT, NEW_TOTAL INT)
BEGIN
UPDATE BILL SET TOTAL = NEW_TOTAL WHERE BILLID = BILL_ID;
END$$
-- CALL UPDATE_BILL(1, 1000000);

DROP procedure IF EXISTS `DELETE_BILL`;
DELIMITER $$
CREATE PROCEDURE `DELETE_BILL` (BILL_ID INT)
BEGIN
UPDATE ORDERS SET BILL_BILLID = NULL WHERE BILL_BILLID = BILL_ID;
DELETE FROM BILL WHERE BILL = BILL_ID; 
END$$
-- CALL DELETE_BILL(1);